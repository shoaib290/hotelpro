{"ast":null,"code":"import _defineProperty from\"D:/product/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"D:/product/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable no-unused-vars */import React,{useMemo}from'react';import{makeStyles}from'@material-ui/core/styles';import Paper from'@material-ui/core/Paper';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TablePagination from'@material-ui/core/TablePagination';import TableRow from'@material-ui/core/TableRow';import axios from'axios';import Search from'../../Search/index';import SearchIcon from'@material-ui/icons/Search';import MeetingRoomIcon from'@material-ui/icons/MeetingRoom';import PersonOutlineIcon from'@material-ui/icons/PersonOutline';import EmailIcon from'@material-ui/icons/Email';import PhoneIcon from'@material-ui/icons/Phone';import CheckIcon from'@material-ui/icons/Check';import ErrorOutlineIcon from'@material-ui/icons/ErrorOutline';import CallToActionIcon from'@material-ui/icons/CallToAction';import RoomIcon from'@material-ui/icons/Room';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles({root:{width:'115%',marginLeft:'-82px',marginTop:'10px',backgroundColor:\"#f2ecec\",borderTop:'outset'},container:{borderRightColor:'red'}});export default function MatPaginationTable(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),comments=_useState2[0],setComments=_useState2[1];var classes=useStyles();var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _React$useState=React.useState(5),_React$useState2=_slicedToArray(_React$useState,2),rowsPerPage=_React$useState2[0],setRowsPerPage=_React$useState2[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),totalItems=_useState8[0],setTotalItems=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),currentPage=_useState10[0],setCurrentPage=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),search=_useState12[0],setSearch=_useState12[1];var _useState13=useState({field:\"\",order:\"\"}),_useState14=_slicedToArray(_useState13,2),sorting=_useState14[0],setSorting=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),test=_useState16[0],setTest=_useState16[1];var ITEMS_PER_PAGE=10;useEffect(function(){setTimeout(function(){getData();},10);},[test]);var getData=function getData(){fetch(\"https://entemadb.entema-software.com/getBookingNAData\").then(function(response){return response.json();}).then(function(json){console.log('herooo  ',json);setComments(json);// console.log(comments[0].BOOK_FNAME)\n});};var removeDelTimeSheet=function removeDelTimeSheet(id){axios.post(\"https://entemadb.entema-software.com/removeDelNoteBasedOnId\",{delId:id}).then(function(res){getData();});};var updateRequest=function updateRequest(uid){alert('Checked out.Successfully');console.log('values uid : ',uid);axios.post(\"https://entemadb.entema-software.com/updateBookingStatus\",{bookSts:\"Closed\",userId:uid}).then(function(res){getData();});};var commentsData=useMemo(function(){var computedComments=comments;if(search){computedComments=computedComments.filter(function(comment){return comment.BOOK_FNAME.toLowerCase().includes(search.toLowerCase())||comment.BOOK_EMAIL.toLowerCase().includes(search.toLowerCase())||comment.BOOK_PHONE.toLowerCase().includes(search.toLowerCase());});}setTotalItems(computedComments.length);//Sorting comments\nif(sorting.field){var reversed=sorting.order===\"asc\"?1:-1;computedComments=computedComments.sort(function(a,b){return reversed*a[sorting.field].localeCompare(b[sorting.field]);});}//Current Page slice\nreturn computedComments.slice((currentPage-1)*ITEMS_PER_PAGE,(currentPage-1)*ITEMS_PER_PAGE+ITEMS_PER_PAGE);},[comments,currentPage,search,sorting]);useEffect(function(){getData();},[test]);var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(+event.target.value);setPage(0);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"tname\",children:[/*#__PURE__*/_jsx(RoomIcon,{style:{fontSize:50,marginTop:\"-10px\"}}),\"Room Reservations\"]}),/*#__PURE__*/_jsx(\"div\",{style:_defineProperty({marginTop:\"-4  5px\",marginLeft:\"870px\"},\"marginTop\",'-52px'),children:/*#__PURE__*/_jsx(Search,{onSearch:function onSearch(value){setSearch(value);// setCurrentPage(1);\n}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",style:{color:'milkywhite'},children:/*#__PURE__*/_jsxs(\"section\",{className:\"featured-rooms\",children:[/*#__PURE__*/_jsxs(Paper,{className:classes.root,children:[/*#__PURE__*/_jsx(TableContainer,{className:classes.container,children:/*#__PURE__*/_jsxs(Table,{stickyHeader:true,\"aria-label\":\"sticky table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsxs(TableCell,{align:\"center\",style:{backgroundColor:\"lightgray\",fontWeight:\"bolder\"},children:[/*#__PURE__*/_jsx(MeetingRoomIcon,{color:\"primary\"}),\"Room Type\"]}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",style:{backgroundColor:\"lightgray\",fontWeight:\"bolder\"},children:[/*#__PURE__*/_jsx(PersonOutlineIcon,{color:\"primary\"}),\"Full Name\"]}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",style:{backgroundColor:\"lightgray\",fontWeight:\"bolder\"},children:[/*#__PURE__*/_jsx(EmailIcon,{color:\"primary\"}),\"Email ID\"]}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",style:{backgroundColor:\"lightgray\",fontWeight:\"bolder\"},children:[/*#__PURE__*/_jsx(PhoneIcon,{color:\"primary\"}),\"Phone Number\"]}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",style:{backgroundColor:\"lightgray\",fontWeight:\"bolder\"},children:[/*#__PURE__*/_jsx(CheckIcon,{color:\"primary\"}),\"Check In\"]}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",style:{backgroundColor:\"lightgray\",fontWeight:\"bolder\"},children:[/*#__PURE__*/_jsx(ErrorOutlineIcon,{color:\"primary\"}),\"Check Out\"]}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",style:{backgroundColor:\"lightgray\",fontWeight:\"bolder\"},children:[/*#__PURE__*/_jsx(CallToActionIcon,{color:\"primary\"}),\"Action\"]})]})}),/*#__PURE__*/_jsx(TableBody,{children:commentsData.map(function(comments){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsxs(TableCell,{align:\"center\",children:[\" \",comments.BOOK_ROOM_TYPE]}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:comments.BOOK_FNAME}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:comments.BOOK_EMAIL}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:comments.BOOK_PHONE}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:comments.BOOK_CHECKIN}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:comments.BOOK_CHECKOUT}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",style:{width:'83px'},onClick:function onClick(){return updateRequest(comments.BOOKING_ID);},children:\" Check Out\"})}),\"                        \"]});})})]})}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[5,10,25,50],component:\"div\",count:data.length,rowsPerPage:rowsPerPage,page:page,onChangePagwe:handleChangePage,onChangeRowsPerPage:handleChangeRowsPerPage})]}),\" \"]})})]});}","map":{"version":3,"sources":["D:/product/src/components/pages/Bookings/Bookings.js"],"names":["React","useMemo","makeStyles","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","axios","Search","SearchIcon","MeetingRoomIcon","PersonOutlineIcon","EmailIcon","PhoneIcon","CheckIcon","ErrorOutlineIcon","CallToActionIcon","RoomIcon","useState","useEffect","useStyles","root","width","marginLeft","marginTop","backgroundColor","borderTop","container","borderRightColor","MatPaginationTable","comments","setComments","classes","page","setPage","data","setData","rowsPerPage","setRowsPerPage","totalItems","setTotalItems","currentPage","setCurrentPage","search","setSearch","field","order","sorting","setSorting","test","setTest","ITEMS_PER_PAGE","setTimeout","getData","fetch","then","response","json","console","log","removeDelTimeSheet","id","post","delId","res","updateRequest","uid","alert","bookSts","userId","commentsData","computedComments","filter","comment","BOOK_FNAME","toLowerCase","includes","BOOK_EMAIL","BOOK_PHONE","length","reversed","sort","a","b","localeCompare","slice","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","fontSize","color","fontWeight","map","BOOK_ROOM_TYPE","BOOK_CHECKIN","BOOK_CHECKOUT","BOOKING_ID"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport React, { useMemo } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport axios from 'axios';\r\nimport Search from '../../Search/index';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport MeetingRoomIcon from '@material-ui/icons/MeetingRoom';\r\nimport PersonOutlineIcon from '@material-ui/icons/PersonOutline';\r\nimport EmailIcon from '@material-ui/icons/Email';\r\nimport PhoneIcon from '@material-ui/icons/Phone';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\r\nimport CallToActionIcon from '@material-ui/icons/CallToAction';\r\nimport RoomIcon from '@material-ui/icons/Room';\r\n\r\nimport { useState, useEffect } from 'react'\r\n\r\n\r\nconst useStyles = makeStyles({\r\n\r\n    root: {\r\n        width: '115%',\r\n        marginLeft: '-82px',\r\n        marginTop: '10px',\r\n        backgroundColor: \"#f2ecec\",\r\n\r\n        borderTop: 'outset',\r\n    },\r\n\r\n    container: {\r\n\r\n        borderRightColor: 'red',\r\n    },\r\n});\r\n\r\n\r\n\r\nexport default function MatPaginationTable() {\r\n    const [comments, setComments] = useState([]);\r\n    const classes = useStyles();\r\n    const [page, setPage] = useState(0);\r\n    const [data, setData] = useState([]);\r\n    const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n    const [totalItems, setTotalItems] = useState(0);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [search, setSearch] = useState(\"\");\r\n    const [sorting, setSorting] = useState({ field: \"\", order: \"\" });\r\n    const [test, setTest] = useState(false);\r\n\r\n    const ITEMS_PER_PAGE = 10;\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            getData();\r\n        }, 10);\r\n    }, [test]);\r\n\r\n\r\n    const getData = () => {\r\n        fetch(\"https://entemadb.entema-software.com/getBookingNAData\")\r\n            .then((response) => response.json())\r\n            .then((json) => {\r\n                console.log('herooo  ', json);\r\n                setComments(json);\r\n                // console.log(comments[0].BOOK_FNAME)\r\n            });\r\n    };\r\n\r\n    const removeDelTimeSheet = (id) => {\r\n        axios\r\n            .post(\"https://entemadb.entema-software.com/removeDelNoteBasedOnId\", {\r\n                delId: id,\r\n            })\r\n            .then((res) => {\r\n                getData();\r\n\r\n            });\r\n    };\r\n\r\n    const updateRequest = (uid) => {\r\n        alert('Checked out.Successfully');\r\n        console.log('values uid : ',uid);\r\n        axios\r\n            .post(\"https://entemadb.entema-software.com/updateBookingStatus\", {\r\n                bookSts:\"Closed\",\r\n                userId:uid\r\n            })\r\n            .then((res) => {\r\n                getData();\r\n\r\n            });\r\n    }\r\n\r\n    const commentsData = useMemo(() => {\r\n        let computedComments = comments;\r\n\r\n        if (search) {\r\n            computedComments = computedComments.filter(\r\n                (comment) =>\r\n                    comment.BOOK_FNAME.toLowerCase().includes(search.toLowerCase()) ||\r\n                    comment.BOOK_EMAIL.toLowerCase().includes(search.toLowerCase()) ||\r\n                    comment.BOOK_PHONE.toLowerCase().includes(search.toLowerCase())\r\n            );\r\n        }\r\n        setTotalItems(computedComments.length);\r\n\r\n        //Sorting comments\r\n        if (sorting.field) {\r\n            const reversed = sorting.order === \"asc\" ? 1 : -1;\r\n            computedComments = computedComments.sort(\r\n                (a, b) => reversed * a[sorting.field].localeCompare(b[sorting.field])\r\n            );\r\n        }\r\n\r\n        //Current Page slice\r\n        return computedComments.slice(\r\n            (currentPage - 1) * ITEMS_PER_PAGE,\r\n            (currentPage - 1) * ITEMS_PER_PAGE + ITEMS_PER_PAGE\r\n        );\r\n    }, [comments, currentPage, search, sorting]);\r\n\r\n    useEffect(() => {\r\n        getData();\r\n    }, [test]);\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = event => {\r\n        setRowsPerPage(+event.target.value);\r\n\r\n        setPage(0);\r\n\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className='row'>\r\n                <h1 className='tname'>\r\n                    <RoomIcon style={{ fontSize: 50, marginTop: \"-10px\" }}></RoomIcon>\r\n                    Room Reservations</h1>\r\n\r\n                <div style={{\r\n                    marginTop: \"-4  5px\", marginLeft: \"870px\", marginTop: '-52px'\r\n                }}>\r\n                    <Search\r\n                        onSearch={(value) => {\r\n                            setSearch(value);\r\n                            // setCurrentPage(1);\r\n                        }}\r\n                    >\r\n                    </Search>\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n            <div className=\"container\" style={{ color: 'milkywhite' }}>\r\n\r\n\r\n\r\n\r\n                <section className=\"featured-rooms\">\r\n\r\n\r\n                    <Paper className={classes.root}>\r\n\r\n                        <TableContainer className={classes.container}>\r\n                            <Table stickyHeader aria-label=\"sticky table\">\r\n                                <TableHead>\r\n                                    <TableRow>\r\n\r\n                                        {/* <TableCell align=\"center\" style={{ backgroundColor: \"#e8e5f6\" }}>Room No</TableCell> */}\r\n                                        <TableCell align=\"center\" style={{ backgroundColor: \"lightgray\", fontWeight: \"bolder\" }}>\r\n                                            <MeetingRoomIcon color=\"primary\" ></MeetingRoomIcon>\r\n                                            Room Type</TableCell>\r\n                                        <TableCell align=\"center\" style={{ backgroundColor: \"lightgray\", fontWeight: \"bolder\" }}>\r\n                                            <PersonOutlineIcon color=\"primary\" ></PersonOutlineIcon>\r\n                                            Full Name</TableCell>\r\n                                        <TableCell align=\"center\" style={{ backgroundColor: \"lightgray\", fontWeight: \"bolder\" }}>\r\n                                            <EmailIcon color=\"primary\" ></EmailIcon>\r\n                                            Email ID</TableCell>\r\n                                        <TableCell align=\"center\" style={{ backgroundColor: \"lightgray\", fontWeight: \"bolder\" }}>\r\n                                            <PhoneIcon color=\"primary\"  ></PhoneIcon>\r\n                                            Phone Number</TableCell>\r\n                                        <TableCell align=\"center\" style={{ backgroundColor: \"lightgray\", fontWeight: \"bolder\" }}>\r\n                                            <CheckIcon color=\"primary\" ></CheckIcon>\r\n                                            Check In</TableCell>\r\n                                        <TableCell align=\"center\" style={{ backgroundColor: \"lightgray\", fontWeight: \"bolder\" }}>\r\n                                            <ErrorOutlineIcon color=\"primary\" ></ErrorOutlineIcon>\r\n                                            Check Out</TableCell>\r\n                                        <TableCell align=\"center\" style={{ backgroundColor: \"lightgray\", fontWeight: \"bolder\" }}>\r\n                                            <CallToActionIcon color=\"primary\" ></CallToActionIcon>\r\n                                            Action</TableCell>\r\n\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                    {commentsData.map((comments) => (\r\n                                        <TableRow >\r\n                                            {/* <TableCell align=\"center\">01</TableCell> */}\r\n\r\n                                            <TableCell align=\"center\"> {comments.BOOK_ROOM_TYPE}</TableCell>\r\n                                            <TableCell align=\"center\">{comments.BOOK_FNAME}</TableCell>\r\n                                            <TableCell align=\"center\">{comments.BOOK_EMAIL}</TableCell>\r\n                                            <TableCell align=\"center\">{comments.BOOK_PHONE}</TableCell>\r\n                                            <TableCell align=\"center\">{comments.BOOK_CHECKIN}</TableCell>\r\n                                            <TableCell align=\"center\">{comments.BOOK_CHECKOUT}</TableCell>\r\n                                            <TableCell align=\"center\"><button type=\"submit\" className=\"btn-primary\" style={{ width: '83px' }} onClick={() =>  updateRequest(comments.BOOKING_ID)}> Check Out</button></TableCell>                        </TableRow>\r\n                                    ))}\r\n                                </TableBody>\r\n                            </Table>\r\n                        </TableContainer>\r\n                        <TablePagination\r\n                            rowsPerPageOptions={[5, 10, 25, 50]}\r\n                            component=\"div\"\r\n                            count={data.length}\r\n                            rowsPerPage={rowsPerPage}\r\n                            page={page}\r\n                            onChangePagwe={handleChangePage}\r\n                            onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                        />\r\n                    </Paper> </section></div>\r\n        </>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}